"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}define(["jquery"],function(n){n.fn.extend({carousel:function(){var i=this,e=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"init",value:function(){this.ul=i.children().first(),this.li=this.ul.children("li"),this.pages=i.children().last(),this.li.first().clone().appendTo(this.ul),this.li.last().clone().prependTo(this.ul),this.length=this.li.length+2,this.width=this.li.width()*this.length,this.ul.css({width:this.width,left:-this.li.width()}),this.currIndex=1,this.nextIndex=2,this.flag=!0,this.timer=setInterval(this.animate.bind(this),2500),this.stop().run().circle()}},{key:"animate",value:function(){var e=this;this.flag=!1,this.left=-this.nextIndex*this.li.width(),this.currIndex=this.nextIndex,this.nextIndex++,this.ul.animate({left:this.left},1e3,function(){e.currIndex===e.length-1&&(e.currIndex=1,e.nextIndex=2,e.ul.css({left:-e.li.width()})),e.flag=!0}),this.circleIndex=this.nextIndex-2,this.circleIndex>=this.pages.children().length&&(this.circleIndex=0),this.pages.children().removeClass("red"),this.pages.children().eq(this.circleIndex).addClass("red")}},{key:"stop",value:function(){var t=this;return i.mouseenter(function(e){clearInterval(t.timer)}),this}},{key:"run",value:function(){var t=this;return i.mouseleave(function(e){t.timer=setInterval(t.animate.bind(t),2500)}),this}},{key:"circle",value:function(){var t=this;this.html="";for(var e=0;e<this.li.length;e++)this.html+="<i></i>";this.pages.html(this.html),this.pages.children().first().addClass("red"),this.pages.children().mouseenter(function(e){t.nextIndex=n(this).index()+1,t.animate()})}}]),e}());e.init()}})});