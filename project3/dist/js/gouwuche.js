"use strict";require(["config"],function(){require(["jquery","template","tools","header","footer","jquerycookie"],function(l,t,n,e,a){new Promise(function(t,n){l("header").load("/html/component/header.html",function(){t()})}).then(function(){l("footer").load("/html/component/footer.html",function(){})}).then(function(){var t=l(".list_container"),r=l.cookie("guc"),n="";function s(){var t=0,n=!0,e=!1,a=void 0;try{for(var i,c=r[Symbol.iterator]();!(n=(i=c.next()).done);n=!0){var o=i.value;t+=o.num*o.jiage}}catch(t){e=!0,a=t}finally{try{n||null==c.return||c.return()}finally{if(e)throw a}}l("#mons").html(t)}0===(r=r?JSON.parse(r):[]).length?l(".tu").show().siblings(".list_container").hide():l(".tu").hide().siblings(".list_container").show(),r.forEach(function(t){n+='<ul class="da">\n\t\t\t\t\t\n\t\t\t\t<li class="erer">\n\t\t\t\t<p class="ids">'.concat(t.id,'</p>\n\t\t\t\t\n\t\t\t\t<div class="item_contem">\n\t\t\t\t\t<div class ="c_cbox"><a href="#" class="btnss"></a></div>\n\t\t\t\t\t<div class="c_products"><a href="#" class="imgf"><img src="').concat(t.img,'"></a>\n\t\t\t\t\t\t<div class="text">\n\t\t\t\t\t\t\t<div class="children_d"><p class="cn">').concat(t.name,'</p></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t</div> \n\t\t\t\t<div class="c_amount">\n\t\t\t\t\t<div class="content_c"><a href="javascript:;" class="btn_jian"></a>\n\t\t\t\t\t\t<input type="text_t" class="txt-amount" value="').concat(t.num,'">\n\t\t\t\t\t\t<a href="javascript:;" class="btnss_add"></a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="c_price">').concat(t.jiage,'</div>\n\t\t\t\t\n\t\t\t\t<div class="o_operates"><a href="javascript:;"class="btn_del">删除</a></div>\n\t\t\t  \t\t\t \t\n\t\t\t\t</li>\n\t\t\t\t\n\t\t\t\t\n\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t</ul>'),s()}),t.html(n),l(".da").on("click",l(".btn_del"),function(t){var n=t.target;if("btn_del"===n.className){var e=n.parentNode.parentNode.parentNode;console.log(e);var a=e.children[0].innerText,i=e.children[1].innerHtml;console.log(a);for(var c=0,o=r.length;c<o;c++)if(console.log(1),r[c].id==a||r[c].name==i){r.splice(c,1);break}l.cookie("guc",JSON.stringify(r),{expires:30,path:"/"}),0===r.length&&location.reload(!0),e.parentNode.removeChild(e),s()}}),l(".da").on("click",l(".content_c"),function(t){l("#mons");var n=t.target;if("btn_jian"===n.className||"btnss_add"===n.className){for(var e=n.parentNode.parentNode.parentNode.parentNode,a=e.children[0].innerText,i=null,c=0;c<r.length;c++)if(r[c].id==a){i=r[c];break}if("btnss_add"===n.className)i.num++;else{if(i.num<=1)return;i.num--}l.cookie("guc",JSON.stringify(r),{expires:30,path:"/"}),e.children[1].children[2].children[0].children[1].value=i.num,s()}})})})});